# Отчёт по проекту "Учет финансов"

## 1. Общая идея решения

Данное консольное приложение реализует модуль "Учет финансов", который предназначен для управления личными финансами пользователя. Основной функционал приложения включает:
- **CRUD-операции** над сущностями:
    - **BankAccount**: создание, редактирование, удаление, просмотр счетов.
    - **Category**: создание, редактирование, удаление, просмотр категорий (доходы и расходы).
    - **Operation**: создание (тип операции определяется автоматически по выбранной категории), удаление и просмотр операций.
- **Автоматическое обновление баланса счета** при добавлении операций. При попытке провести расходную операцию, которая приводит баланс в отрицательное значение, операция не выполняется.
- **Аналитика**: подсчёт разницы между суммарными доходами и расходами за указанный период, а также группировка операций по категориям.
- **Импорт и экспорт данных** в форматах CSV, JSON и YAML с использованием шаблонного метода и паттерна Посетитель.

## 2. Реализованные функциональные требования

- **Работа с доменной моделью**:
    - Создание, редактирование и удаление счетов, категорий и операций.
    - Операция создаётся без явного ввода типа (доход/расход): тип автоматически определяется по выбранной категории.
    - При добавлении операции баланс счета обновляется. При расходной операции проверяется, что баланс не уйдет в минус.

- **Аналитика**:
    - Подсчет разницы доходов и расходов за выбранный период.
    - Группировка операций по категориям.

- **Импорт/Экспорт данных**:
    - Импорт и экспорт данных реализован для форматов CSV, JSON и YAML.
    - Используется паттерн Шаблонный метод для импортёров (DataImporter с наследниками CsvImporter, JsonImporter, YamlImporter).
    - Экспорт данных реализован через паттерн Посетитель (интерфейс IDataVisitor и его реализации).

## 3. Использованные паттерны и принципы

### SOLID и GRASP
- **Single Responsibility Principle (SRP)**: Каждый класс отвечает за свою конкретную задачу (доменные объекты, фасады, команды, импорт/экспорт, прокси).
- **Open/Closed Principle (OCP)**: Новые функциональности реализуются через наследование (например, новые импортёры или команды) без изменения существующего кода.
- **High Cohesion и Low Coupling (GRASP)**: Логика разделена по модулям, каждый модуль отвечает за свою часть функциональности.

### Паттерны GoF
- **Фабрика (Factory)**: Класс `DomainFactory` централизованно создает доменные объекты, что позволяет проводить валидацию и обеспечивать единообразное создание объектов.
- **Фасад (Facade)**: Фасады `BankAccountFacade`, `CategoryFacade`, `OperationFacade` и `AnalyticsFacade` объединяют логику работы с соответствующими сущностями и упрощают взаимодействие с доменной моделью.
- **Команда (Command)**: Реализованы команды для создания, обновления и удаления счетов, категорий и операций (например, `CreateAccountCommand`, `UpdateAccountNameCommand`, `CreateOperationCommand` и т.д.). Это позволяет инкапсулировать пользовательские сценарии.
- **Декоратор (Decorator)**: Класс `TimeMeasurementDecorator` оборачивает команды для замера времени их выполнения.
- **Шаблонный метод (Template Method)**: Абстрактный класс `DataImporter` задает общий алгоритм импорта данных, а его наследники (`CsvImporter`, `JsonImporter`, `YamlImporter`) реализуют парсинг специфичных форматов.
- **Посетитель (Visitor)**: Реализован интерфейс `IDataVisitor` и его реализации для экспорта данных в разные форматы (CSV, JSON, YAML).

## 5. Инструкция по запуску

1. **Клонирование и сборка:**
    - Склонируйте репозиторий.
    - Откройте решение в IDE.
    - Соберите решение, чтобы убедиться, что все проекты (основной и тестовый) успешно компилируются.

2. **Запуск приложения:**
    - Запустите проект **HSEBankFinances** (консольное приложение).
    - Следуйте инструкциям в меню для работы с сущностями, аналитикой, импортом и экспортом данных.
